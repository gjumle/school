<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Quick sorts</title>
    </head>
    <body>
        <script>
            function quickSort(arr, left, right) {
                function partition(arr, left, right) {
                    var pivot = arr[Math.floor((left + right) / 2)]; //Selects the middle element
                    i = left;
                    j = right;
                    while (i <= j) {
                        while (arr[i] < pivot) {
                            i++; //Move one to the right
                        }
                        while (arr[j] > pivot) {
                            j--; //Move one to the left
                        }
                        if (i <= j) {
                            arr[i], arr[j] = arr[j], arr[i]; //Swapp the elements
                            i++;
                            j--; //Bypass each other
                        }
                    }
                    return i;
                }

                if (arr.length > 1) { //If the arr is only one element array, return the array
                    var index = partition(arr, left, right); //Defines the middle of the array
                    if (left < index - 1) {
                        quickSort(arr, left, index - 1); //Qucik sort the left part from index
                    }
                    if (right > index - 1) {
                        quickSort(arr, index, right); //Quick sort the right part from index
                    }
                }
                return arr; //Return the partition
            }


            //Implementation
            var arr = [5, 10 , 8, 4, 28, 15, 92, 2]
            console.log(quickSort(arr, 0, 7)); //Shitfuck not working at all
            console.log(partition(arr, 0, 7)); //Shitfuck working but return 7, now return 2
        </script>
    </body>
</html>
