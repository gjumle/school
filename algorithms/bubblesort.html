<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Bubble sort</title>
    </head>
    <body>
        <script>

            // Bubble sort function - fisrt try
            function bubblesort(arr) {
                for (var i = 0; i < arr.length; i++) {
                    arr[i];
                    if (arr[i] <= arr[i + 1]) {
                        return;
                    }
                    else {
                        arr[1] = arr[i + 1];
                        arr[0] = arr[i];
                    }
                }
            }

            // Optimized solution
            function bubbleSort(arr, n) {
                var i, j, temp;
                var swapped;
                for (i = 0; i < n; i++) {
                    swapped = false;
                    for (j = 0; j < n - i - 1; j++) {
                        if (arr[j] > arr[j + 1]) {
                            // swapp arr[j] & arr[j + 1]
                            temp = arr[j];
                            arr[j] = arr[j + 1];
                            swapped = true;
                        }
                    }
                    // if no elements were swapped, then break
                    if (swapped == false) {
                        break;
                    }
                }
            }
            
            // Implementation
            function printArray(arr, size) {
                var i;
                for (i = 0; i < size; i++)
                    document.write(arr[i] + " ");
                document.writeln();
            }

            // Driver code
            var arr = [ 64, 34, 25, 12, 22, 11, 90 ];
            var n = arr.length;
            bubbleSort(arr, n);
            document.write("Sorted array: <br>");
            printArray(arr, n);
        </script>
    </body>
</html>
